{"version":3,"file":"edulib.ws.v3.js","sourceRoot":"","sources":["../src/edulib.ws.v3.ts"],"names":[],"mappings":";;;;;;;;;;;AACA,uEAA6E;AAE7E;IAAyB,8BAAqB;IAE5C,oBAAsB,OAAiB,EAAY,SAAiB;QAApE,YACE,kBAAM,IAAI,EAAE,OAAO,CAAC,SACrB;QAFqB,aAAO,GAAP,OAAO,CAAU;QAAY,eAAS,GAAT,SAAS,CAAQ;;IAEpE,CAAC;IAEM,mCAAc,GAArB,UAAsB,GAAW,EAAE,KAAa;QAC9C,IAAI,EAAE,GAAG,EAAE,GAAG,KAAA,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;QAChC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,wBAAwB,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,IAAA,EAAE,CAAC,CAAC;IAC3F,CAAC;IAEM,wCAAmB,GAA1B,UAA2B,QAAgB,EAAE,QAAgB;QAC3D,IAAI,EAAE,GAAG,EAAE,QAAQ,UAAA,EAAE,QAAQ,UAAA,EAAE,CAAC;QAChC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,gCAAgC,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,IAAA,EAAE,CAAC,CAAC;IACnG,CAAC;IAEM,iCAAY,GAAnB,UAAoB,MAAc,EAAE,KAAa;QAC/C,IAAI,IAAI,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;QAC9C,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,MAAA,EAAE,CAAC,CAAC;IAC1F,CAAC;IAEM,2CAAsB,GAA7B,UAA8B,GAAW;QACvC,IAAI,EAAE,GAAG,EAAE,GAAG,KAAA,EAAE,CAAC;QACjB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,iCAAiC,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,IAAA,EAAE,CAAC,CAAC;IACpG,CAAC;IAEH,iBAAC;AAAD,CAAC,AA1BD,CAAyB,gDAAqB,GA0B7C;AAAA,CAAC;AAEF,iBAAS,UAAU,CAAC","sourcesContent":["import Promise = require('bluebird');\nimport { AbstractEdulibWSToken, IOptions } from './abstract.edulib.ws.token';\n\nclass EdulibWSV3 extends AbstractEdulibWSToken {\n\n  constructor(protected options: IOptions, protected authToken: string) {\n    super('v3', options);\n  }\n\n  public getUserBySsoId(uai: string, ssoId: string): Promise<any> {\n    var qs = { uai, sso_id: ssoId };\n    return this.request({ uri: this.buildUrl('/users/identify-by-sso'), method: 'GET', qs });\n  }\n\n  public getUserByCredential(username: string, password: string): Promise<any> {\n    var qs = { username, password };\n    return this.request({ uri: this.buildUrl('/users/identify-by-credentials'), method: 'GET', qs });\n  }\n\n  public setUserSsoId(userId: string, ssoId: string) {\n    var form = { user_id: userId, sso_id: ssoId };\n    return this.request({ uri: this.buildUrl('/users/set-sso-id'), method: 'PATCH', form });\n  }\n\n  public getEtablishmentCatalog(uai: string) {\n    var qs = { uai };\n    return this.request({ uri: this.buildUrl('/establishment_accounts/catalog'), method: 'GET', qs });\n  }\n\n};\n\nexport = EdulibWSV3;"]}